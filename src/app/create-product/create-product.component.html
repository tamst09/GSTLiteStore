<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<div class="container">
    <h2>Thêm sản phẩm</h2>
    <form #createform="ngForm" (ngSubmit)="createProduct()">
        <div class="form-group">
            <label for="nameProduct">Tên sản phẩm</label>
            <input 
                [(ngModel)]="product.nameProduct" 
                type="text" 
                class="form-control" 
                placeholder="Tên sản phẩm" 
                name="nameProduct"
                required >
        </div>
        <div class="form-group">
            <label for="pwd">Giá</label>
            <input 
            [(ngModel)]="product.price" 
            class="form-control" 
            placeholder="Giá tiền"
            name="price" required 
            type="number">
        </div>

        <div class="form-group">
            <label for="pwd">số lượng trong kho</label>
            <input [(ngModel)]="product.unitsInStock" 
            class="form-control" 
            placeholder="số lượng trong kho" 
            name="unitsInStock" 
            id="unitsInStock"
            required
            type="number">
        </div>
        
        <div class="form-group">
            <label for="email">Nhà sản xuất</label>
            <select  
            [(ngModel)]="product.manufacturer" 
            class="form-control" 
            name="manufacturer" 
            id="manufacturer">
                <option value="Iphone">Iphone</option>
                <option value="Samsung">Samsung</option>
                <option value="Huweii">Huweii</option>
                <option value="Xiaomi">Xiaomi</option>
            </select>   
        </div>
        <div class="form-group">
            <label for="category">Loại</label>
            <select 
                [(ngModel)]="product.category" 
                class="form-control" 
                name="category" 
                id="category">
                <option value="phone">Điện thoại</option>
            </select>
        </div>
        <div class="form-group">
            <label for="email">Mô tả</label>
            <input 
                [(ngModel)]="product.description"
                type="description" class="form-control"
                placeholder="Mô tả" 
                id="description"
                name="description" required
            >
        </div>
         <div class="form-group">
            <label for="">Thêm hình ảnh</label>
            <div class="custom-file mb-3">
                <input type="file" class="custom-file-input" id="customFile" name="filename"  (change)="handleFileInput($event)"/>
                <!-- (change)="onFileSelected($event)" [(ngModel)]="product.imageFile" observeFiles -->
                <label class="custom-file-label" for="customFile">Choose file</label>
            </div>
        </div>

        <div>
            <small class="text-danger">{{msg}}</small>
        </div>
        <button type="submit" class="btn btn-success">Thêm sản phẩm</button>
    </form>
    <!-- <small class="float-right" [routerLink]="['/register']">New user? Register here.</small> -->
    <!-- [disabled]="loginform.form.invalid" -->
</div>
<script>
    $(".custom-file-input").on("change", function () {
        var fileName = $(this).val().split("\\").pop();
        $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
    });
</script>